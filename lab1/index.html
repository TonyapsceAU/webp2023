<!doctype html>
<html lang="zh-Hant-TW">
  <head>
      <meta charset="utf-8">
      <title>prectist1 b</title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
      <meta name="description" content="lab1">
      <meta name="keywords" content="lab1">
      <link href="https://cdn.jsdeliver.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" 
        rel="stylesheet"
        inyegrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao9Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
        crossorigin="annoymous"
        >
  </head>
  <body>
    <script>
        var container = document.getElementById("container");
        window.addEventListener("keyup", function(e){
            console.log(e.key);
            if(e.key=="Escape"){
              container.textContent = "";
            }else if(e.key=="Backspace"){
              var str = container.textContent;
              container.textContent = str.substring(0,str.length-1);
            }else if(e.key == container.textContent[0]){
              var str = container.textContent;
              container.textContent = str.substr(1);
              container.textContent += randomstr(3);
            }else{
              container.textContent += "yousucks ";
            }
          }
        );

        function rangerandomint(min, max) {
            return Math.random() * (max - min) + min;
        }

        function randomstr(length) {
            let result = '';
            const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';
            const charactersLength = characters.length;
            let counter = 0;
            while (counter < length) {
              result += characters.charAt(Math.floor(Math.random() * charactersLength));
              counter += 1;
            }
            return result;
        }

        window.onload = function(){
          console.log("window loaded");
          container.textContent += randomstr(rangerandomint(1,3));

        }

        var count = 1;
        function addfunction(){
            var btn = document.createElement("BUTTON");
            btn.innerHTML = `CLICK ME (${count})`;
            btn.setAttribute("id","btn_"+count++);
            btn.setAttribute("class","btn btn-outline-danger");

            btn.addEventListener("click",function(e){
              e.target.innerHTML = e.target.id + " CLICKED :";
              console.log("onclick1");
            }             
            );

            btn.addEventListener("dblclick",function(e){
              e.target.innerHTML = "CLICKED ("+ e.target.id.replace("btn_","") + ")";
              console.log("dbonclick1");
            }             
            );

            console.log(btn);
            document.body.appendChild(btn);
        };

        function delfunction(){
            var btn = document.getElementById("btn_" + --count);
            console.log(btn);
            document.body.removeChild(btn);
        };

        var select = document.getElementById("mySelect");
        select.addEventListener("change",function(){
            var selectedValue = document.getElementById("selectedValue");
            selectedValue.innerHTML = "Selected value" + this.value;
          }              
        );
    </script>
    
    <p>class 5 js prectist</p>
    <button onclick="addfunction()" class="btn btn-outline-pimay"> add button    </button>
    <button onclick="delfunction()" class="btn btn-outline-pimay"> delete button </button>
    <br>
    <select id="mySelect">
      <option value="option defualt"></option>
      <option value="option 1"> option 1 </option>
      <option value="option 2"> option 2 </option>
      <option value="option 3"> option 3 </option>
      <option value="option 4"> option 4 </option>
    </select>
    <p id="selectedValue"></p>
    <br>
    <div id="container" tabindex="0" class="blockquote text-nowrap"></div>

  </body> 
</html>
